---
import HeaderInfo from './util/HeaderInfo.astro';
// Secci√≥n de informaci√≥n personal con dise√±o invernal

interface Props {
  description: string;
  imageUrl?: string;
  stats?: {
    label: string;
    value: string;
    icon: string;
  }[];
}

const {
  description,
  imageUrl = "/images/profile.jpg",
  stats = [
    { label: "A√±os de experiencia", value: "3+", icon: "üìÖ" },
    { label: "Proyectos completados", value: "2+", icon: "‚úÖ" },
    { label: "Tecnolog√≠as", value: "10+", icon: "‚ö°" },
    { label: "Caf√©s consumidos", value: "‚àû", icon: "‚òï" },
  ],
} = Astro.props;
---

<article id="about">
  <HeaderInfo 
    title="Sobre mi" 
    subtitle="Con√≥ceme un poco m√°s" 
  />
  <section id="info" class="grid grid-cols-2 items-center reveal p-5!">
    <div class="col-start-1 flex justify-center">
      <!-- Imagen -->
      <div class="relative glass-effect rounded-2xl p-2 frost-border">
        <img
          src={imageUrl}
          alt="Foto de perfil"
          class="rounded-xl object-cover aspect-square"
          loading="lazy"
        />

        <!-- Badge flotante -->
        <div
          class="absolute -bottom-4 -right-4 glass-effect px-4 py-2 rounded-full
                    border border-aurora-blue/30 shadow-ice"
        >
          <span class="text-2xl">üë®‚Äçüíª</span>
        </div>
      </div>

      <!-- Elementos decorativos flotantes -->
      <div
        class="absolute -top-6 -left-6 w-12 h-12 border-4 border-aurora-cyan/30
                    rounded-full animate-float"
      >
      </div>
      <div
        class="absolute -bottom-6 -right-6 w-16 h-16 border-4 border-aurora-purple/30
                    rounded-lg rotate-45"
        style="animation: float 5s ease-in-out infinite;"
      >
      </div>
    </div>
    <!-- Grid de detalles corregido -->
    <div class="col-start-2 grid grid-cols-2 gap-6 auto-rows-min">
      <!-- Description centrado verticalmente -->
      <div id="description" class="col-span-2 flex items-center justify-center">
        <span class="text-winter-frost/90 text-lg">{description}</span>
      </div>

      <!-- Secci√≥n de hobbies -->
      <div id="hobby" class="col-span-2">
        <span class="text-xl font-semibold text-aurora-cyan mb-4 block">
          Lo que me apasiona
        </span>
        <div class="space-y-3">
          <div class="flex items-start gap-3">
            <span class="text-2xl">üéØ</span>
            <div>
              <h4 class="font-semibold text-winter-light">
                Desarrollo Backend
              </h4>
              <p class="text-winter-frost/70 text-sm">
                Arquitecturas robustas con Spring Boot y microservicios
              </p>
            </div>
          </div>
          <div class="flex items-start gap-3">
            <span class="text-2xl">üé®</span>
            <div>
              <h4 class="font-semibold text-winter-light">Frontend Moderno</h4>
              <p class="text-winter-frost/70 text-sm">
                Interfaces reactivas e intuitivas con Angular
              </p>
            </div>
          </div>
          <div class="flex items-start gap-3">
            <span class="text-2xl">üöÄ</span>
            <div>
              <h4 class="font-semibold text-winter-light">
                Aprendizaje Continuo
              </h4>
              <p class="text-winter-frost/70 text-sm">
                Siempre explorando nuevas tecnolog√≠as y metodolog√≠as
              </p>
            </div>
          </div>
        </div>
      </div>

      <!-- Grid de estad√≠sticas -->
      <div id="cardList" class="col-span-2 grid grid-cols-2 gap-5">
        {
          stats.map((stat) => (
            <div
              class="glass-effect rounded-xl p-6 text-center frost-border 
                  hover:scale-105 transition-transform cursor-default group"
            >
              <div class="text-3xl mb-2 group-hover:scale-110 transition-transform">
                {stat.icon}
              </div>
              <div class="text-3xl font-bold text-aurora-cyan mb-1">
                {stat.value}
              </div>
              <div class="text-sm text-winter-frost/70">{stat.label}</div>
            </div>
          ))
        }
      </div>

      <!-- Botones -->
      <div id="buttonFooter" class="col-span-2 grid grid-cols-2 gap-4">
        <div
          class="animate-fade-in-up text-center"
          style="animation-delay: 1s;"
        >
          <a href="/cv.pdf" download class="btn-winter group">
            <span class="inline-flex items-center gap-2">
              <svg
                class="w-5 h-5"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"
                ></path>
              </svg>
              Descargar CV
            </span>
          </a>
        </div>
        <div
          class="animate-fade-in-up text-center"
          style="animation-delay: 1s;"
        >
          <a href="#contact" class="btn-winter group"> Hablemos </a>
        </div>
      </div>
    </div>
  </section>
</article>

<script>
  // Intersection Observer para animaciones al scroll
  const observerOptions = {
    threshold: 0.1,
    rootMargin: "0px 0px -100px 0px",
  };

  const observer = new IntersectionObserver((entries) => {
    entries.forEach((entry) => {
      if (entry.isIntersecting) {
        entry.target.classList.add("active");
      }
    });
  }, observerOptions);

  // Observar todos los elementos con clase reveal
  document
    .querySelectorAll(".reveal, .reveal-left, .reveal-right")
    .forEach((el) => {
      observer.observe(el);
    });
</script>

<style>
  /* Animaci√≥n de flotaci√≥n para elementos decorativos */
  @keyframes float {
    0%,
    100% {
      transform: translateY(0) rotate(0deg);
    }
    50% {
      transform: translateY(-20px) rotate(5deg);
    }
  }

  .animate-float {
    animation: float 4s ease-in-out infinite;
  }
</style>
